{"version":3,"names":["_i18n","require","_blocks","_components","_data","_element","_compose","_useBindingsAttributes","_store","_lockUnlock","_inspectorControls","_interopRequireDefault","_blockContext","_jsxRuntime","DropdownMenuV2","DropdownMenu","DropdownMenuGroupV2","DropdownMenuGroup","DropdownMenuRadioItemV2","DropdownMenuRadioItem","DropdownMenuItemLabelV2","DropdownMenuItemLabel","DropdownMenuItemHelpTextV2","DropdownMenuItemHelpText","DropdownMenuSeparatorV2","DropdownMenuSeparator","unlock","componentsPrivateApis","useToolsPanelDropdownMenuProps","isMobile","useViewportMatch","popoverProps","placement","offset","BlockBindingsPanelDropdown","fieldsList","addConnection","attribute","binding","currentKey","args","key","jsx","Fragment","children","Object","entries","map","label","fields","i","jsxs","keys","length","__experimentalText","className","upperCase","variant","value","onChange","name","checked","BlockBindingsAttribute","source","sourceName","sourceProps","blocksPrivateApis","getBlockBindingsSource","__experimentalVStack","__experimentalTruncate","ReadOnlyBlockBindingsPanelItems","bindings","__experimentalItem","EditableBlockBindingsPanelItems","attributes","removeConnection","__experimentalToolsPanelItem","hasValue","onDeselect","gutter","trigger","BlockBindingsPanel","metadata","registry","useRegistry","blockContext","useContext","BlockContext","bindableAttributes","getBindableAttributes","dropdownMenuProps","filteredBindings","forEach","canBindAttribute","updateBlockAttributes","useDispatch","blockEditorStore","_id","useSelect","select","getSelectedBlockClientId","removeAllConnections","newMetadata","undefined","getBlockBindingsSources","registeredSources","values","getFieldsList","usesContext","context","sourceList","readOnly","window","__experimentalBlockBindingsUI","default","__experimentalToolsPanel","__","resetAll","__experimentalItemGroup","isBordered","isSeparated","exports","_default","edit","attributeKeys","hasSupport"],"sources":["@wordpress/block-editor/src/hooks/block-bindings.js"],"sourcesContent":["/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { privateApis as blocksPrivateApis } from '@wordpress/blocks';\nimport {\n\t__experimentalItemGroup as ItemGroup,\n\t__experimentalItem as Item,\n\t__experimentalText as Text,\n\t__experimentalToolsPanel as ToolsPanel,\n\t__experimentalToolsPanelItem as ToolsPanelItem,\n\t__experimentalTruncate as Truncate,\n\t__experimentalVStack as VStack,\n\tprivateApis as componentsPrivateApis,\n} from '@wordpress/components';\nimport { useSelect, useDispatch, useRegistry } from '@wordpress/data';\nimport { useContext, Fragment } from '@wordpress/element';\nimport { useViewportMatch } from '@wordpress/compose';\n\n/**\n * Internal dependencies\n */\nimport {\n\tcanBindAttribute,\n\tgetBindableAttributes,\n} from '../hooks/use-bindings-attributes';\nimport { store as blockEditorStore } from '../store';\nimport { unlock } from '../lock-unlock';\nimport InspectorControls from '../components/inspector-controls';\nimport BlockContext from '../components/block-context';\n\nconst {\n\tDropdownMenuV2: DropdownMenu,\n\tDropdownMenuGroupV2: DropdownMenuGroup,\n\tDropdownMenuRadioItemV2: DropdownMenuRadioItem,\n\tDropdownMenuItemLabelV2: DropdownMenuItemLabel,\n\tDropdownMenuItemHelpTextV2: DropdownMenuItemHelpText,\n\tDropdownMenuSeparatorV2: DropdownMenuSeparator,\n} = unlock( componentsPrivateApis );\n\nconst useToolsPanelDropdownMenuProps = () => {\n\tconst isMobile = useViewportMatch( 'medium', '<' );\n\treturn ! isMobile\n\t\t? {\n\t\t\t\tpopoverProps: {\n\t\t\t\t\tplacement: 'left-start',\n\t\t\t\t\t// For non-mobile, inner sidebar width (248px) - button width (24px) - border (1px) + padding (16px) + spacing (20px)\n\t\t\t\t\toffset: 259,\n\t\t\t\t},\n\t\t  }\n\t\t: {};\n};\n\nfunction BlockBindingsPanelDropdown( {\n\tfieldsList,\n\taddConnection,\n\tattribute,\n\tbinding,\n} ) {\n\tconst currentKey = binding?.args?.key;\n\treturn (\n\t\t<>\n\t\t\t{ Object.entries( fieldsList ).map( ( [ label, fields ], i ) => (\n\t\t\t\t<Fragment key={ label }>\n\t\t\t\t\t<DropdownMenuGroup>\n\t\t\t\t\t\t{ Object.keys( fieldsList ).length > 1 && (\n\t\t\t\t\t\t\t<Text\n\t\t\t\t\t\t\t\tclassName=\"block-editor-bindings__source-label\"\n\t\t\t\t\t\t\t\tupperCase\n\t\t\t\t\t\t\t\tvariant=\"muted\"\n\t\t\t\t\t\t\t\taria-hidden\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{ label }\n\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t) }\n\t\t\t\t\t\t{ Object.entries( fields ).map( ( [ key, value ] ) => (\n\t\t\t\t\t\t\t<DropdownMenuRadioItem\n\t\t\t\t\t\t\t\tkey={ key }\n\t\t\t\t\t\t\t\tonChange={ () =>\n\t\t\t\t\t\t\t\t\taddConnection( key, attribute )\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tname={ attribute + '-binding' }\n\t\t\t\t\t\t\t\tvalue={ key }\n\t\t\t\t\t\t\t\tchecked={ key === currentKey }\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<DropdownMenuItemLabel>\n\t\t\t\t\t\t\t\t\t{ key }\n\t\t\t\t\t\t\t\t</DropdownMenuItemLabel>\n\t\t\t\t\t\t\t\t<DropdownMenuItemHelpText>\n\t\t\t\t\t\t\t\t\t{ value }\n\t\t\t\t\t\t\t\t</DropdownMenuItemHelpText>\n\t\t\t\t\t\t\t</DropdownMenuRadioItem>\n\t\t\t\t\t\t) ) }\n\t\t\t\t\t</DropdownMenuGroup>\n\t\t\t\t\t{ i !== Object.keys( fieldsList ).length - 1 && (\n\t\t\t\t\t\t<DropdownMenuSeparator />\n\t\t\t\t\t) }\n\t\t\t\t</Fragment>\n\t\t\t) ) }\n\t\t</>\n\t);\n}\n\nfunction BlockBindingsAttribute( { attribute, binding } ) {\n\tconst { source: sourceName, args } = binding || {};\n\tconst sourceProps =\n\t\tunlock( blocksPrivateApis ).getBlockBindingsSource( sourceName );\n\treturn (\n\t\t<VStack>\n\t\t\t<Truncate>{ attribute }</Truncate>\n\t\t\t{ !! binding && (\n\t\t\t\t<Text\n\t\t\t\t\tvariant=\"muted\"\n\t\t\t\t\tclassName=\"block-editor-bindings__item-explanation\"\n\t\t\t\t>\n\t\t\t\t\t<Truncate>\n\t\t\t\t\t\t{ args?.key || sourceProps?.label || sourceName }\n\t\t\t\t\t</Truncate>\n\t\t\t\t</Text>\n\t\t\t) }\n\t\t</VStack>\n\t);\n}\n\nfunction ReadOnlyBlockBindingsPanelItems( { bindings } ) {\n\treturn (\n\t\t<>\n\t\t\t{ Object.entries( bindings ).map( ( [ attribute, binding ] ) => (\n\t\t\t\t<Item key={ attribute }>\n\t\t\t\t\t<BlockBindingsAttribute\n\t\t\t\t\t\tattribute={ attribute }\n\t\t\t\t\t\tbinding={ binding }\n\t\t\t\t\t/>\n\t\t\t\t</Item>\n\t\t\t) ) }\n\t\t</>\n\t);\n}\n\nfunction EditableBlockBindingsPanelItems( {\n\tattributes,\n\tbindings,\n\tfieldsList,\n\taddConnection,\n\tremoveConnection,\n} ) {\n\tconst isMobile = useViewportMatch( 'medium', '<' );\n\treturn (\n\t\t<>\n\t\t\t{ attributes.map( ( attribute ) => {\n\t\t\t\tconst binding = bindings[ attribute ];\n\t\t\t\treturn (\n\t\t\t\t\t<ToolsPanelItem\n\t\t\t\t\t\tkey={ attribute }\n\t\t\t\t\t\thasValue={ () => !! binding }\n\t\t\t\t\t\tlabel={ attribute }\n\t\t\t\t\t\tonDeselect={ () => {\n\t\t\t\t\t\t\tremoveConnection( attribute );\n\t\t\t\t\t\t} }\n\t\t\t\t\t>\n\t\t\t\t\t\t<DropdownMenu\n\t\t\t\t\t\t\tplacement={\n\t\t\t\t\t\t\t\tisMobile ? 'bottom-start' : 'left-start'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tgutter={ isMobile ? 8 : 36 }\n\t\t\t\t\t\t\tclassName=\"block-editor-bindings__popover\"\n\t\t\t\t\t\t\ttrigger={\n\t\t\t\t\t\t\t\t<Item>\n\t\t\t\t\t\t\t\t\t<BlockBindingsAttribute\n\t\t\t\t\t\t\t\t\t\tattribute={ attribute }\n\t\t\t\t\t\t\t\t\t\tbinding={ binding }\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Item>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<BlockBindingsPanelDropdown\n\t\t\t\t\t\t\t\tfieldsList={ fieldsList }\n\t\t\t\t\t\t\t\taddConnection={ addConnection }\n\t\t\t\t\t\t\t\tattribute={ attribute }\n\t\t\t\t\t\t\t\tbinding={ binding }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</DropdownMenu>\n\t\t\t\t\t</ToolsPanelItem>\n\t\t\t\t);\n\t\t\t} ) }\n\t\t</>\n\t);\n}\n\nexport const BlockBindingsPanel = ( { name, metadata } ) => {\n\tconst registry = useRegistry();\n\tconst blockContext = useContext( BlockContext );\n\tconst { bindings } = metadata || {};\n\n\tconst bindableAttributes = getBindableAttributes( name );\n\tconst dropdownMenuProps = useToolsPanelDropdownMenuProps();\n\n\tconst filteredBindings = { ...bindings };\n\tObject.keys( filteredBindings ).forEach( ( key ) => {\n\t\tif (\n\t\t\t! canBindAttribute( name, key ) ||\n\t\t\tfilteredBindings[ key ].source === 'core/pattern-overrides'\n\t\t) {\n\t\t\tdelete filteredBindings[ key ];\n\t\t}\n\t} );\n\n\tconst { updateBlockAttributes } = useDispatch( blockEditorStore );\n\n\tconst { _id } = useSelect( ( select ) => {\n\t\tconst { getSelectedBlockClientId } = select( blockEditorStore );\n\n\t\treturn {\n\t\t\t_id: getSelectedBlockClientId(),\n\t\t};\n\t}, [] );\n\n\tif ( ! bindableAttributes || bindableAttributes.length === 0 ) {\n\t\treturn null;\n\t}\n\n\tconst removeAllConnections = () => {\n\t\tconst newMetadata = { ...metadata };\n\t\tdelete newMetadata.bindings;\n\t\tupdateBlockAttributes( _id, {\n\t\t\tmetadata:\n\t\t\t\tObject.keys( newMetadata ).length === 0\n\t\t\t\t\t? undefined\n\t\t\t\t\t: newMetadata,\n\t\t} );\n\t};\n\n\tconst addConnection = ( value, attribute ) => {\n\t\t// Assuming the block expects a flat structure for its metadata attribute\n\t\tconst newMetadata = {\n\t\t\t...metadata,\n\t\t\t// Adjust this according to the actual structure expected by your block\n\t\t\tbindings: {\n\t\t\t\t...metadata?.bindings,\n\t\t\t\t[ attribute ]: {\n\t\t\t\t\tsource: 'core/post-meta',\n\t\t\t\t\targs: { key: value },\n\t\t\t\t},\n\t\t\t},\n\t\t};\n\t\t// Update the block's attributes with the new metadata\n\t\tupdateBlockAttributes( _id, {\n\t\t\tmetadata: newMetadata,\n\t\t} );\n\t};\n\n\tconst removeConnection = ( key ) => {\n\t\tconst newMetadata = { ...metadata };\n\t\tif ( ! newMetadata.bindings ) {\n\t\t\treturn;\n\t\t}\n\n\t\tdelete newMetadata.bindings[ key ];\n\t\tif ( Object.keys( newMetadata.bindings ).length === 0 ) {\n\t\t\tdelete newMetadata.bindings;\n\t\t}\n\t\tupdateBlockAttributes( _id, {\n\t\t\tmetadata:\n\t\t\t\tObject.keys( newMetadata ).length === 0\n\t\t\t\t\t? undefined\n\t\t\t\t\t: newMetadata,\n\t\t} );\n\t};\n\n\tconst fieldsList = {};\n\tconst { getBlockBindingsSources } = unlock( blocksPrivateApis );\n\tconst registeredSources = getBlockBindingsSources();\n\tObject.values( registeredSources ).forEach(\n\t\t( { getFieldsList, label, usesContext } ) => {\n\t\t\tif ( getFieldsList ) {\n\t\t\t\t// Populate context.\n\t\t\t\tconst context = {};\n\t\t\t\tif ( usesContext?.length ) {\n\t\t\t\t\tfor ( const key of usesContext ) {\n\t\t\t\t\t\tcontext[ key ] = blockContext[ key ];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tconst sourceList = getFieldsList( {\n\t\t\t\t\tregistry,\n\t\t\t\t\tcontext,\n\t\t\t\t} );\n\t\t\t\t// Only add source if the list is not empty.\n\t\t\t\tif ( sourceList ) {\n\t\t\t\t\tfieldsList[ label ] = { ...sourceList };\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t);\n\t// Remove empty sources.\n\tObject.entries( fieldsList ).forEach( ( [ key, value ] ) => {\n\t\tif ( ! Object.keys( value ).length ) {\n\t\t\tdelete fieldsList[ key ];\n\t\t}\n\t} );\n\n\t// Lock the UI when the experiment is not enabled or there are no fields to connect to.\n\tconst readOnly =\n\t\t! window.__experimentalBlockBindingsUI ||\n\t\t! Object.keys( fieldsList ).length;\n\n\tif ( readOnly && Object.keys( filteredBindings ).length === 0 ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<InspectorControls>\n\t\t\t<ToolsPanel\n\t\t\t\tlabel={ __( 'Attributes' ) }\n\t\t\t\tresetAll={ () => {\n\t\t\t\t\tremoveAllConnections();\n\t\t\t\t} }\n\t\t\t\tdropdownMenuProps={ dropdownMenuProps }\n\t\t\t\tclassName=\"block-editor-bindings__panel\"\n\t\t\t>\n\t\t\t\t<ItemGroup isBordered isSeparated>\n\t\t\t\t\t{ readOnly ? (\n\t\t\t\t\t\t<ReadOnlyBlockBindingsPanelItems\n\t\t\t\t\t\t\tbindings={ filteredBindings }\n\t\t\t\t\t\t/>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<EditableBlockBindingsPanelItems\n\t\t\t\t\t\t\tattributes={ bindableAttributes }\n\t\t\t\t\t\t\tbindings={ filteredBindings }\n\t\t\t\t\t\t\tfieldsList={ fieldsList }\n\t\t\t\t\t\t\taddConnection={ addConnection }\n\t\t\t\t\t\t\tremoveConnection={ removeConnection }\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\t\t\t\t</ItemGroup>\n\t\t\t\t<Text variant=\"muted\">\n\t\t\t\t\t{ __( 'Attributes connected to various sources.' ) }\n\t\t\t\t</Text>\n\t\t\t</ToolsPanel>\n\t\t</InspectorControls>\n\t);\n};\n\nexport default {\n\tedit: BlockBindingsPanel,\n\tattributeKeys: [ 'metadata' ],\n\thasSupport() {\n\t\treturn true;\n\t},\n};\n"],"mappings":"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","ignoreList":[]}