{"version":3,"names":["Button","Popover","__experimentalToggleGroupControl","ToggleGroupControl","__experimentalToggleGroupControlOption","ToggleGroupControlOption","__experimentalToggleGroupControlOptionIcon","ToggleGroupControlOptionIcon","SelectControl","__experimentalItemGroup","ItemGroup","__experimentalItem","Item","__experimentalGrid","Grid","__experimentalVStack","VStack","__experimentalHStack","HStack","__experimentalHeading","Heading","__experimentalText","Text","privateApis","componentsPrivateApis","__","_x","memo","useContext","useState","useMemo","cog","seen","unseen","warning","SORTING_DIRECTIONS","sortIcons","sortLabels","VIEW_LAYOUTS","getMandatoryFields","DataViewsContext","unlock","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","DropdownMenuV2","DropdownMenu","DropdownMenuRadioItemV2","DropdownMenuRadioItem","DropdownMenuItemLabelV2","DropdownMenuItemLabel","ViewTypeMenu","defaultLayouts","list","grid","table","view","onChangeView","availableLayouts","Object","keys","length","activeView","find","v","type","trigger","size","icon","label","children","map","layout","config","value","name","checked","hideOnClick","onChange","e","target","globalThis","SCRIPT_DEBUG","SortFieldControl","fields","orderOptions","sortableFields","filter","field","enableSorting","id","__nextHasNoMarginBottom","__next40pxDefaultSize","sort","options","direction","SortDirectionControl","className","isBlock","disabled","newDirection","PAGE_SIZE_VALUES","ItemsPerPageControl","perPage","newItemsPerPage","newItemsPerPageNumber","undefined","parseInt","page","toString","FieldControl","mandatoryFields","hidableFields","enableHiding","includes","viewFields","isBordered","isSeparated","isVisible","expanded","onClick","SettingsSection","title","description","columns","gap","level","variant","DataviewsViewConfigContent","spacing","_DataViewsViewConfig","isShowingViewPopover","setIsShowingViewPopover","placement","onClose","focusOnMount","DataViewsViewConfig"],"sources":["@wordpress/dataviews/src/components/dataviews-view-config/index.tsx"],"sourcesContent":["/**\n * External dependencies\n */\nimport type { ChangeEvent } from 'react';\n\n/**\n * WordPress dependencies\n */\nimport {\n\tButton,\n\tPopover,\n\t__experimentalToggleGroupControl as ToggleGroupControl,\n\t__experimentalToggleGroupControlOption as ToggleGroupControlOption,\n\t__experimentalToggleGroupControlOptionIcon as ToggleGroupControlOptionIcon,\n\tSelectControl,\n\t__experimentalItemGroup as ItemGroup,\n\t__experimentalItem as Item,\n\t__experimentalGrid as Grid,\n\t__experimentalVStack as VStack,\n\t__experimentalHStack as HStack,\n\t__experimentalHeading as Heading,\n\t__experimentalText as Text,\n\tprivateApis as componentsPrivateApis,\n} from '@wordpress/components';\nimport { __, _x } from '@wordpress/i18n';\nimport { memo, useContext, useState, useMemo } from '@wordpress/element';\nimport { cog, seen, unseen } from '@wordpress/icons';\nimport warning from '@wordpress/warning';\n\n/**\n * Internal dependencies\n */\nimport { SORTING_DIRECTIONS, sortIcons, sortLabels } from '../../constants';\nimport { VIEW_LAYOUTS, getMandatoryFields } from '../../dataviews-layouts';\nimport type { SupportedLayouts } from '../../types';\nimport DataViewsContext from '../dataviews-context';\nimport { unlock } from '../../lock-unlock';\n\nconst {\n\tDropdownMenuV2: DropdownMenu,\n\tDropdownMenuRadioItemV2: DropdownMenuRadioItem,\n\tDropdownMenuItemLabelV2: DropdownMenuItemLabel,\n} = unlock( componentsPrivateApis );\n\ninterface ViewTypeMenuProps {\n\tdefaultLayouts?: SupportedLayouts;\n}\n\nfunction ViewTypeMenu( {\n\tdefaultLayouts = { list: {}, grid: {}, table: {} },\n}: ViewTypeMenuProps ) {\n\tconst { view, onChangeView } = useContext( DataViewsContext );\n\tconst availableLayouts = Object.keys( defaultLayouts );\n\tif ( availableLayouts.length <= 1 ) {\n\t\treturn null;\n\t}\n\tconst activeView = VIEW_LAYOUTS.find( ( v ) => view.type === v.type );\n\treturn (\n\t\t<DropdownMenu\n\t\t\ttrigger={\n\t\t\t\t<Button\n\t\t\t\t\tsize=\"compact\"\n\t\t\t\t\ticon={ activeView?.icon }\n\t\t\t\t\tlabel={ __( 'Layout' ) }\n\t\t\t\t/>\n\t\t\t}\n\t\t>\n\t\t\t{ availableLayouts.map( ( layout ) => {\n\t\t\t\tconst config = VIEW_LAYOUTS.find( ( v ) => v.type === layout );\n\t\t\t\tif ( ! config ) {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t\treturn (\n\t\t\t\t\t<DropdownMenuRadioItem\n\t\t\t\t\t\tkey={ layout }\n\t\t\t\t\t\tvalue={ layout }\n\t\t\t\t\t\tname=\"view-actions-available-view\"\n\t\t\t\t\t\tchecked={ layout === view.type }\n\t\t\t\t\t\thideOnClick\n\t\t\t\t\t\tonChange={ ( e: ChangeEvent< HTMLInputElement > ) => {\n\t\t\t\t\t\t\tswitch ( e.target.value ) {\n\t\t\t\t\t\t\t\tcase 'list':\n\t\t\t\t\t\t\t\tcase 'grid':\n\t\t\t\t\t\t\t\tcase 'table':\n\t\t\t\t\t\t\t\t\treturn onChangeView( {\n\t\t\t\t\t\t\t\t\t\t...view,\n\t\t\t\t\t\t\t\t\t\ttype: e.target.value,\n\t\t\t\t\t\t\t\t\t\t...defaultLayouts[ e.target.value ],\n\t\t\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\twarning( 'Invalid dataview' );\n\t\t\t\t\t\t} }\n\t\t\t\t\t>\n\t\t\t\t\t\t<DropdownMenuItemLabel>\n\t\t\t\t\t\t\t{ config.label }\n\t\t\t\t\t\t</DropdownMenuItemLabel>\n\t\t\t\t\t</DropdownMenuRadioItem>\n\t\t\t\t);\n\t\t\t} ) }\n\t\t</DropdownMenu>\n\t);\n}\n\ninterface ViewActionsProps {\n\tdefaultLayouts?: SupportedLayouts;\n}\n\nfunction SortFieldControl() {\n\tconst { view, fields, onChangeView } = useContext( DataViewsContext );\n\tconst orderOptions = useMemo( () => {\n\t\tconst sortableFields = fields.filter(\n\t\t\t( field ) => field.enableSorting !== false\n\t\t);\n\t\treturn sortableFields.map( ( field ) => {\n\t\t\treturn {\n\t\t\t\tlabel: field.label,\n\t\t\t\tvalue: field.id,\n\t\t\t};\n\t\t} );\n\t}, [ fields ] );\n\n\treturn (\n\t\t<SelectControl\n\t\t\t__nextHasNoMarginBottom\n\t\t\t__next40pxDefaultSize\n\t\t\tlabel={ __( 'Sort by' ) }\n\t\t\tvalue={ view.sort?.field }\n\t\t\toptions={ orderOptions }\n\t\t\tonChange={ ( value: string ) => {\n\t\t\t\tonChangeView( {\n\t\t\t\t\t...view,\n\t\t\t\t\tsort: {\n\t\t\t\t\t\tdirection: view?.sort?.direction || 'desc',\n\t\t\t\t\t\tfield: value,\n\t\t\t\t\t},\n\t\t\t\t} );\n\t\t\t} }\n\t\t/>\n\t);\n}\n\nfunction SortDirectionControl() {\n\tconst { view, onChangeView } = useContext( DataViewsContext );\n\treturn (\n\t\t<ToggleGroupControl\n\t\t\tclassName=\"dataviews-view-config__sort-direction\"\n\t\t\t__nextHasNoMarginBottom\n\t\t\t__next40pxDefaultSize\n\t\t\tisBlock\n\t\t\tlabel={ __( 'Order' ) }\n\t\t\tvalue={ view.sort?.direction || 'desc' }\n\t\t\tdisabled={ ! view?.sort?.field }\n\t\t\tonChange={ ( newDirection ) => {\n\t\t\t\tif ( ! view?.sort?.field ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif ( newDirection === 'asc' || newDirection === 'desc' ) {\n\t\t\t\t\tonChangeView( {\n\t\t\t\t\t\t...view,\n\t\t\t\t\t\tsort: {\n\t\t\t\t\t\t\tdirection: newDirection,\n\t\t\t\t\t\t\tfield: view.sort.field,\n\t\t\t\t\t\t},\n\t\t\t\t\t} );\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\twarning( 'Invalid direction' );\n\t\t\t} }\n\t\t>\n\t\t\t{ SORTING_DIRECTIONS.map( ( direction ) => {\n\t\t\t\treturn (\n\t\t\t\t\t<ToggleGroupControlOptionIcon\n\t\t\t\t\t\tkey={ direction }\n\t\t\t\t\t\tvalue={ direction }\n\t\t\t\t\t\ticon={ sortIcons[ direction ] }\n\t\t\t\t\t\tlabel={ sortLabels[ direction ] }\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\t} ) }\n\t\t</ToggleGroupControl>\n\t);\n}\n\nconst PAGE_SIZE_VALUES = [ 10, 20, 50, 100 ];\nfunction ItemsPerPageControl() {\n\tconst { view, onChangeView } = useContext( DataViewsContext );\n\treturn (\n\t\t<ToggleGroupControl\n\t\t\t__nextHasNoMarginBottom\n\t\t\t__next40pxDefaultSize\n\t\t\tisBlock\n\t\t\tlabel={ __( 'Items per page' ) }\n\t\t\tvalue={ view.perPage || 10 }\n\t\t\tdisabled={ ! view?.sort?.field }\n\t\t\tonChange={ ( newItemsPerPage ) => {\n\t\t\t\tconst newItemsPerPageNumber =\n\t\t\t\t\ttypeof newItemsPerPage === 'number' ||\n\t\t\t\t\tnewItemsPerPage === undefined\n\t\t\t\t\t\t? newItemsPerPage\n\t\t\t\t\t\t: parseInt( newItemsPerPage, 10 );\n\t\t\t\tonChangeView( {\n\t\t\t\t\t...view,\n\t\t\t\t\tperPage: newItemsPerPageNumber,\n\t\t\t\t\tpage: 1,\n\t\t\t\t} );\n\t\t\t} }\n\t\t>\n\t\t\t{ PAGE_SIZE_VALUES.map( ( value ) => {\n\t\t\t\treturn (\n\t\t\t\t\t<ToggleGroupControlOption\n\t\t\t\t\t\tkey={ value }\n\t\t\t\t\t\tvalue={ value }\n\t\t\t\t\t\tlabel={ value.toString() }\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\t} ) }\n\t\t</ToggleGroupControl>\n\t);\n}\n\nfunction FieldControl() {\n\tconst { view, fields, onChangeView } = useContext( DataViewsContext );\n\tconst mandatoryFields = getMandatoryFields( view );\n\tconst hidableFields = fields.filter(\n\t\t( field ) =>\n\t\t\tfield.enableHiding !== false &&\n\t\t\t! mandatoryFields.includes( field.id )\n\t);\n\tconst viewFields = view.fields || fields.map( ( field ) => field.id );\n\tif ( ! hidableFields?.length ) {\n\t\treturn null;\n\t}\n\treturn (\n\t\t<ItemGroup isBordered isSeparated>\n\t\t\t{ hidableFields?.map( ( field ) => {\n\t\t\t\tconst isVisible = viewFields.includes( field.id );\n\t\t\t\treturn (\n\t\t\t\t\t<Item key={ field.id }>\n\t\t\t\t\t\t<HStack expanded>\n\t\t\t\t\t\t\t<span>{ field.label }</span>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tclassName=\"'dataviews-view-config__field-control-button\"\n\t\t\t\t\t\t\t\tsize=\"compact\"\n\t\t\t\t\t\t\t\tonClick={ () =>\n\t\t\t\t\t\t\t\t\tonChangeView( {\n\t\t\t\t\t\t\t\t\t\t...view,\n\t\t\t\t\t\t\t\t\t\tfields: isVisible\n\t\t\t\t\t\t\t\t\t\t\t? viewFields.filter(\n\t\t\t\t\t\t\t\t\t\t\t\t\t( id ) => id !== field.id\n\t\t\t\t\t\t\t\t\t\t\t  )\n\t\t\t\t\t\t\t\t\t\t\t: [ ...viewFields, field.id ],\n\t\t\t\t\t\t\t\t\t} )\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\ticon={ isVisible ? seen : unseen }\n\t\t\t\t\t\t\t\tlabel={\n\t\t\t\t\t\t\t\t\tisVisible\n\t\t\t\t\t\t\t\t\t\t? __( 'Hide field' )\n\t\t\t\t\t\t\t\t\t\t: __( 'Show field' )\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</HStack>\n\t\t\t\t\t</Item>\n\t\t\t\t);\n\t\t\t} ) }\n\t\t</ItemGroup>\n\t);\n}\n\nfunction SettingsSection( {\n\ttitle,\n\tdescription,\n\tchildren,\n}: {\n\ttitle: string;\n\tdescription?: string;\n\tchildren: React.ReactNode;\n} ) {\n\treturn (\n\t\t<Grid columns={ 12 } className=\"dataviews-settings-section\" gap={ 4 }>\n\t\t\t<div className=\"dataviews-settings-section__sidebar\">\n\t\t\t\t<Heading\n\t\t\t\t\tlevel={ 2 }\n\t\t\t\t\tclassName=\"dataviews-settings-section__title\"\n\t\t\t\t>\n\t\t\t\t\t{ title }\n\t\t\t\t</Heading>\n\t\t\t\t{ description && (\n\t\t\t\t\t<Text\n\t\t\t\t\t\tvariant=\"muted\"\n\t\t\t\t\t\tclassName=\"dataviews-settings-section__description\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{ description }\n\t\t\t\t\t</Text>\n\t\t\t\t) }\n\t\t\t</div>\n\t\t\t<Grid\n\t\t\t\tcolumns={ 8 }\n\t\t\t\tgap={ 4 }\n\t\t\t\tclassName=\"dataviews-settings-section__content\"\n\t\t\t>\n\t\t\t\t{ children }\n\t\t\t</Grid>\n\t\t</Grid>\n\t);\n}\n\nfunction DataviewsViewConfigContent() {\n\treturn (\n\t\t<VStack className=\"dataviews-view-config\" spacing={ 6 }>\n\t\t\t<SettingsSection title={ __( 'Appearance' ) }>\n\t\t\t\t<HStack expanded className=\"is-divided-in-two\">\n\t\t\t\t\t<SortFieldControl />\n\t\t\t\t\t<SortDirectionControl />\n\t\t\t\t</HStack>\n\t\t\t\t<ItemsPerPageControl />\n\t\t\t</SettingsSection>\n\t\t\t<SettingsSection title={ __( 'Properties' ) }>\n\t\t\t\t<FieldControl />\n\t\t\t</SettingsSection>\n\t\t</VStack>\n\t);\n}\n\nfunction _DataViewsViewConfig( {\n\tdefaultLayouts = { list: {}, grid: {}, table: {} },\n}: ViewActionsProps ) {\n\tconst [ isShowingViewPopover, setIsShowingViewPopover ] =\n\t\tuseState< boolean >( false );\n\n\treturn (\n\t\t<>\n\t\t\t<ViewTypeMenu defaultLayouts={ defaultLayouts } />\n\t\t\t<div>\n\t\t\t\t<Button\n\t\t\t\t\tsize=\"compact\"\n\t\t\t\t\ticon={ cog }\n\t\t\t\t\tlabel={ _x( 'View options', 'View is used as a noun' ) }\n\t\t\t\t\tonClick={ () => setIsShowingViewPopover( true ) }\n\t\t\t\t/>\n\t\t\t\t{ isShowingViewPopover && (\n\t\t\t\t\t<Popover\n\t\t\t\t\t\tplacement=\"bottom-end\"\n\t\t\t\t\t\tonClose={ () => {\n\t\t\t\t\t\t\tsetIsShowingViewPopover( false );\n\t\t\t\t\t\t} }\n\t\t\t\t\t\tfocusOnMount\n\t\t\t\t\t>\n\t\t\t\t\t\t<DataviewsViewConfigContent />\n\t\t\t\t\t</Popover>\n\t\t\t\t) }\n\t\t\t</div>\n\t\t</>\n\t);\n}\n\nconst DataViewsViewConfig = memo( _DataViewsViewConfig );\n\nexport default DataViewsViewConfig;\n"],"mappings":"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","ignoreList":[]}