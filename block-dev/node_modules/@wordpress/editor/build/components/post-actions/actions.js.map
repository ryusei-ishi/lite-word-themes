{"version":3,"names":["_icons","require","_url","_data","_htmlEntities","_coreData","_i18n","_notices","_element","_patterns","_blocks","_dataviews","_components","_constants","_store","_lockUnlock","_createTemplatePartModal","_utils","_jsxRuntime","PATTERN_TYPES","CreatePatternModalContents","useDuplicatePatternProps","unlock","patternsPrivateApis","fields","type","id","label","__","placeholder","getValue","item","title","description","formDuplicateAction","formOrderAction","isTemplateRemovable","template","source","TEMPLATE_ORIGINS","custom","has_theme_file","viewPostAction","isPrimary","icon","external","isEligible","post","status","callback","posts","onActionPerformed","window","open","link","postRevisionsAction","context","items","_items$0$_links$versi","revisionsCount","_links","count","sprintf","_post$_links$predeces","_post$_links$version","lastRevisionId","href","addQueryArgs","revision","document","location","renamePostAction","TEMPLATE_POST_TYPE","TEMPLATE_PART_POST_TYPE","Object","values","includes","permissions","update","is_custom","isTemplatePart","isUserPattern","user","isCustomPattern","hasThemeFile","RenderModal","closeModal","setTitle","useState","getItemTitle","editEntityRecord","saveEditedEntityRecord","useDispatch","coreStore","createSuccessNotice","createErrorNotice","noticesStore","onRename","event","preventDefault","throwOnError","error","errorMessage","message","code","jsx","onSubmit","children","jsxs","__experimentalVStack","spacing","TextControl","__nextHasNoMarginBottom","__next40pxDefaultSize","value","onChange","required","__experimentalHStack","justify","Button","variant","onClick","ReorderModal","setItem","orderInput","menu_order","onOrder","isItemValid","isSaveDisabled","DataForm","data","form","accessibleWhenDisabled","disabled","__experimentalIsFocusable","useReorderPagesAction","postType","supportsPageAttributes","useSelect","select","getPostType","postTypeObject","supports","useMemo","useDuplicatePostAction","userCanCreatePost","canUser","kind","name","_x","isCreatingPage","setIsCreatingPage","saveEntityRecord","createPage","newItemOject","slug","comment_status","content","raw","excerpt","meta","parent","password","format","featured_media","ping_status","assignablePropertiesPrefix","assignableProperties","keys","filter","property","startsWith","map","slice","length","forEach","newItem","decodeEntities","rendered","isBusy","duplicatePatternAction","exports","modalHeader","duplicatedProps","pattern","onSuccess","onClose","confirmLabel","duplicateTemplatePartAction","blocks","_item$blocks","parse","__unstableSkipMigrationLogs","onTemplatePartSuccess","CreateTemplatePartModalContents","defaultArea","area","defaultTitle","onCreate","onError","usePostActions","defaultActions","userCanCreatePostType","getEntityActions","editorStore","registerPostTypeActions","useEffect","duplicatePostAction","reorderPagesAction","isTemplateOrTemplatePart","isPattern","PATTERN_POST_TYPE","isLoaded","supportsRevisions","revisions","supportsTitle","actions","viewable","globalThis","IS_GUTENBERG_PLUGIN","Boolean","action","i","existingCallback","argsObject","_items","ExistingRenderModal","props"],"sources":["@wordpress/editor/src/components/post-actions/actions.js"],"sourcesContent":["/**\n * WordPress dependencies\n */\nimport { external } from '@wordpress/icons';\nimport { addQueryArgs } from '@wordpress/url';\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport { decodeEntities } from '@wordpress/html-entities';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { __, sprintf, _x } from '@wordpress/i18n';\nimport { store as noticesStore } from '@wordpress/notices';\nimport { useMemo, useState, useEffect } from '@wordpress/element';\nimport { privateApis as patternsPrivateApis } from '@wordpress/patterns';\nimport { parse } from '@wordpress/blocks';\nimport { DataForm, isItemValid } from '@wordpress/dataviews';\nimport {\n\tButton,\n\tTextControl,\n\t__experimentalHStack as HStack,\n\t__experimentalVStack as VStack,\n} from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport {\n\tTEMPLATE_ORIGINS,\n\tTEMPLATE_PART_POST_TYPE,\n\tTEMPLATE_POST_TYPE,\n\tPATTERN_POST_TYPE,\n} from '../../store/constants';\nimport { store as editorStore } from '../../store';\nimport { unlock } from '../../lock-unlock';\nimport { CreateTemplatePartModalContents } from '../create-template-part-modal';\nimport { getItemTitle } from '../../dataviews/actions/utils';\n\n// Patterns.\nconst { PATTERN_TYPES, CreatePatternModalContents, useDuplicatePatternProps } =\n\tunlock( patternsPrivateApis );\n\n// TODO: this should be shared with other components (see post-fields in edit-site).\nconst fields = [\n\t{\n\t\ttype: 'text',\n\t\tid: 'title',\n\t\tlabel: __( 'Title' ),\n\t\tplaceholder: __( 'No title' ),\n\t\tgetValue: ( { item } ) => item.title,\n\t},\n\t{\n\t\ttype: 'integer',\n\t\tid: 'menu_order',\n\t\tlabel: __( 'Order' ),\n\t\tdescription: __( 'Determines the order of pages.' ),\n\t},\n];\n\nconst formDuplicateAction = {\n\tfields: [ 'title' ],\n};\n\nconst formOrderAction = {\n\tfields: [ 'menu_order' ],\n};\n\n/**\n * Check if a template is removable.\n *\n * @param {Object} template The template entity to check.\n * @return {boolean} Whether the template is removable.\n */\nfunction isTemplateRemovable( template ) {\n\tif ( ! template ) {\n\t\treturn false;\n\t}\n\t// In patterns list page we map the templates parts to a different object\n\t// than the one returned from the endpoint. This is why we need to check for\n\t// two props whether is custom or has a theme file.\n\treturn (\n\t\ttemplate?.source === TEMPLATE_ORIGINS.custom &&\n\t\t! template?.has_theme_file\n\t);\n}\n\nconst viewPostAction = {\n\tid: 'view-post',\n\tlabel: __( 'View' ),\n\tisPrimary: true,\n\ticon: external,\n\tisEligible( post ) {\n\t\treturn post.status !== 'trash';\n\t},\n\tcallback( posts, { onActionPerformed } ) {\n\t\tconst post = posts[ 0 ];\n\t\twindow.open( post.link, '_blank' );\n\t\tif ( onActionPerformed ) {\n\t\t\tonActionPerformed( posts );\n\t\t}\n\t},\n};\n\nconst postRevisionsAction = {\n\tid: 'view-post-revisions',\n\tcontext: 'list',\n\tlabel( items ) {\n\t\tconst revisionsCount =\n\t\t\titems[ 0 ]._links?.[ 'version-history' ]?.[ 0 ]?.count ?? 0;\n\t\treturn sprintf(\n\t\t\t/* translators: %s: number of revisions */\n\t\t\t__( 'View revisions (%s)' ),\n\t\t\trevisionsCount\n\t\t);\n\t},\n\tisEligible: ( post ) => {\n\t\tif ( post.status === 'trash' ) {\n\t\t\treturn false;\n\t\t}\n\t\tconst lastRevisionId =\n\t\t\tpost?._links?.[ 'predecessor-version' ]?.[ 0 ]?.id ?? null;\n\t\tconst revisionsCount =\n\t\t\tpost?._links?.[ 'version-history' ]?.[ 0 ]?.count ?? 0;\n\t\treturn lastRevisionId && revisionsCount > 1;\n\t},\n\tcallback( posts, { onActionPerformed } ) {\n\t\tconst post = posts[ 0 ];\n\t\tconst href = addQueryArgs( 'revision.php', {\n\t\t\trevision: post?._links?.[ 'predecessor-version' ]?.[ 0 ]?.id,\n\t\t} );\n\t\tdocument.location.href = href;\n\t\tif ( onActionPerformed ) {\n\t\t\tonActionPerformed( posts );\n\t\t}\n\t},\n};\n\nconst renamePostAction = {\n\tid: 'rename-post',\n\tlabel: __( 'Rename' ),\n\tisEligible( post ) {\n\t\tif ( post.status === 'trash' ) {\n\t\t\treturn false;\n\t\t}\n\t\t// Templates, template parts and patterns have special checks for renaming.\n\t\tif (\n\t\t\t! [\n\t\t\t\tTEMPLATE_POST_TYPE,\n\t\t\t\tTEMPLATE_PART_POST_TYPE,\n\t\t\t\t...Object.values( PATTERN_TYPES ),\n\t\t\t].includes( post.type )\n\t\t) {\n\t\t\treturn post.permissions?.update;\n\t\t}\n\t\t// In the case of templates, we can only rename custom templates.\n\t\tif ( post.type === TEMPLATE_POST_TYPE ) {\n\t\t\treturn (\n\t\t\t\tisTemplateRemovable( post ) &&\n\t\t\t\tpost.is_custom &&\n\t\t\t\tpost.permissions?.update\n\t\t\t);\n\t\t}\n\t\t// Make necessary checks for template parts and patterns.\n\t\tconst isTemplatePart = post.type === TEMPLATE_PART_POST_TYPE;\n\t\tconst isUserPattern = post.type === PATTERN_TYPES.user;\n\t\t// In patterns list page we map the templates parts to a different object\n\t\t// than the one returned from the endpoint. This is why we need to check for\n\t\t// two props whether is custom or has a theme file.\n\t\tconst isCustomPattern =\n\t\t\tisUserPattern ||\n\t\t\t( isTemplatePart && post.source === TEMPLATE_ORIGINS.custom );\n\t\tconst hasThemeFile = post?.has_theme_file;\n\t\treturn isCustomPattern && ! hasThemeFile && post.permissions?.update;\n\t},\n\tRenderModal: ( { items, closeModal, onActionPerformed } ) => {\n\t\tconst [ item ] = items;\n\t\tconst [ title, setTitle ] = useState( () => getItemTitle( item ) );\n\t\tconst { editEntityRecord, saveEditedEntityRecord } =\n\t\t\tuseDispatch( coreStore );\n\t\tconst { createSuccessNotice, createErrorNotice } =\n\t\t\tuseDispatch( noticesStore );\n\n\t\tasync function onRename( event ) {\n\t\t\tevent.preventDefault();\n\t\t\ttry {\n\t\t\t\tawait editEntityRecord( 'postType', item.type, item.id, {\n\t\t\t\t\ttitle,\n\t\t\t\t} );\n\t\t\t\t// Update state before saving rerenders the list.\n\t\t\t\tsetTitle( '' );\n\t\t\t\tcloseModal();\n\t\t\t\t// Persist edited entity.\n\t\t\t\tawait saveEditedEntityRecord( 'postType', item.type, item.id, {\n\t\t\t\t\tthrowOnError: true,\n\t\t\t\t} );\n\t\t\t\tcreateSuccessNotice( __( 'Name updated' ), {\n\t\t\t\t\ttype: 'snackbar',\n\t\t\t\t} );\n\t\t\t\tonActionPerformed?.( items );\n\t\t\t} catch ( error ) {\n\t\t\t\tconst errorMessage =\n\t\t\t\t\terror.message && error.code !== 'unknown_error'\n\t\t\t\t\t\t? error.message\n\t\t\t\t\t\t: __( 'An error occurred while updating the name' );\n\t\t\t\tcreateErrorNotice( errorMessage, { type: 'snackbar' } );\n\t\t\t}\n\t\t}\n\n\t\treturn (\n\t\t\t<form onSubmit={ onRename }>\n\t\t\t\t<VStack spacing=\"5\">\n\t\t\t\t\t<TextControl\n\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\tlabel={ __( 'Name' ) }\n\t\t\t\t\t\tvalue={ title }\n\t\t\t\t\t\tonChange={ setTitle }\n\t\t\t\t\t\trequired\n\t\t\t\t\t/>\n\t\t\t\t\t<HStack justify=\"right\">\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t\tvariant=\"tertiary\"\n\t\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\t\tcloseModal();\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ __( 'Cancel' ) }\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ __( 'Save' ) }\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</HStack>\n\t\t\t\t</VStack>\n\t\t\t</form>\n\t\t);\n\t},\n};\n\nfunction ReorderModal( { items, closeModal, onActionPerformed } ) {\n\tconst [ item, setItem ] = useState( items[ 0 ] );\n\tconst orderInput = item.menu_order;\n\tconst { editEntityRecord, saveEditedEntityRecord } =\n\t\tuseDispatch( coreStore );\n\tconst { createSuccessNotice, createErrorNotice } =\n\t\tuseDispatch( noticesStore );\n\n\tasync function onOrder( event ) {\n\t\tevent.preventDefault();\n\n\t\tif ( ! isItemValid( item, fields, formOrderAction ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\ttry {\n\t\t\tawait editEntityRecord( 'postType', item.type, item.id, {\n\t\t\t\tmenu_order: orderInput,\n\t\t\t} );\n\t\t\tcloseModal();\n\t\t\t// Persist edited entity.\n\t\t\tawait saveEditedEntityRecord( 'postType', item.type, item.id, {\n\t\t\t\tthrowOnError: true,\n\t\t\t} );\n\t\t\tcreateSuccessNotice( __( 'Order updated' ), {\n\t\t\t\ttype: 'snackbar',\n\t\t\t} );\n\t\t\tonActionPerformed?.( items );\n\t\t} catch ( error ) {\n\t\t\tconst errorMessage =\n\t\t\t\terror.message && error.code !== 'unknown_error'\n\t\t\t\t\t? error.message\n\t\t\t\t\t: __( 'An error occurred while updating the order' );\n\t\t\tcreateErrorNotice( errorMessage, {\n\t\t\t\ttype: 'snackbar',\n\t\t\t} );\n\t\t}\n\t}\n\tconst isSaveDisabled = ! isItemValid( item, fields, formOrderAction );\n\treturn (\n\t\t<form onSubmit={ onOrder }>\n\t\t\t<VStack spacing=\"5\">\n\t\t\t\t<div>\n\t\t\t\t\t{ __(\n\t\t\t\t\t\t'Determines the order of pages. Pages with the same order value are sorted alphabetically. Negative order values are supported.'\n\t\t\t\t\t) }\n\t\t\t\t</div>\n\t\t\t\t<DataForm\n\t\t\t\t\tdata={ item }\n\t\t\t\t\tfields={ fields }\n\t\t\t\t\tform={ formOrderAction }\n\t\t\t\t\tonChange={ setItem }\n\t\t\t\t/>\n\t\t\t\t<HStack justify=\"right\">\n\t\t\t\t\t<Button\n\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\tvariant=\"tertiary\"\n\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\tcloseModal();\n\t\t\t\t\t\t} }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ __( 'Cancel' ) }\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button\n\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\taccessibleWhenDisabled\n\t\t\t\t\t\tdisabled={ isSaveDisabled }\n\t\t\t\t\t\t__experimentalIsFocusable\n\t\t\t\t\t>\n\t\t\t\t\t\t{ __( 'Save' ) }\n\t\t\t\t\t</Button>\n\t\t\t\t</HStack>\n\t\t\t</VStack>\n\t\t</form>\n\t);\n}\n\nfunction useReorderPagesAction( postType ) {\n\tconst supportsPageAttributes = useSelect(\n\t\t( select ) => {\n\t\t\tconst { getPostType } = select( coreStore );\n\t\t\tconst postTypeObject = getPostType( postType );\n\n\t\t\treturn !! postTypeObject?.supports?.[ 'page-attributes' ];\n\t\t},\n\t\t[ postType ]\n\t);\n\n\treturn useMemo(\n\t\t() =>\n\t\t\tsupportsPageAttributes && {\n\t\t\t\tid: 'order-pages',\n\t\t\t\tlabel: __( 'Order' ),\n\t\t\t\tisEligible( { status } ) {\n\t\t\t\t\treturn status !== 'trash';\n\t\t\t\t},\n\t\t\t\tRenderModal: ReorderModal,\n\t\t\t},\n\t\t[ supportsPageAttributes ]\n\t);\n}\n\nconst useDuplicatePostAction = ( postType ) => {\n\tconst userCanCreatePost = useSelect(\n\t\t( select ) => {\n\t\t\treturn select( coreStore ).canUser( 'create', {\n\t\t\t\tkind: 'postType',\n\t\t\t\tname: postType,\n\t\t\t} );\n\t\t},\n\t\t[ postType ]\n\t);\n\treturn useMemo(\n\t\t() =>\n\t\t\tuserCanCreatePost && {\n\t\t\t\tid: 'duplicate-post',\n\t\t\t\tlabel: _x( 'Duplicate', 'action label' ),\n\t\t\t\tisEligible( { status } ) {\n\t\t\t\t\treturn status !== 'trash';\n\t\t\t\t},\n\t\t\t\tRenderModal: ( { items, closeModal, onActionPerformed } ) => {\n\t\t\t\t\tconst [ item, setItem ] = useState( {\n\t\t\t\t\t\t...items[ 0 ],\n\t\t\t\t\t\ttitle: sprintf(\n\t\t\t\t\t\t\t/* translators: %s: Existing template title */\n\t\t\t\t\t\t\t__( '%s (Copy)' ),\n\t\t\t\t\t\t\tgetItemTitle( items[ 0 ] )\n\t\t\t\t\t\t),\n\t\t\t\t\t} );\n\n\t\t\t\t\tconst [ isCreatingPage, setIsCreatingPage ] =\n\t\t\t\t\t\tuseState( false );\n\n\t\t\t\t\tconst { saveEntityRecord } = useDispatch( coreStore );\n\t\t\t\t\tconst { createSuccessNotice, createErrorNotice } =\n\t\t\t\t\t\tuseDispatch( noticesStore );\n\n\t\t\t\t\tasync function createPage( event ) {\n\t\t\t\t\t\tevent.preventDefault();\n\n\t\t\t\t\t\tif ( isCreatingPage ) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tconst newItemOject = {\n\t\t\t\t\t\t\tstatus: 'draft',\n\t\t\t\t\t\t\ttitle: item.title,\n\t\t\t\t\t\t\tslug: item.title || __( 'No title' ),\n\t\t\t\t\t\t\tcomment_status: item.comment_status,\n\t\t\t\t\t\t\tcontent:\n\t\t\t\t\t\t\t\ttypeof item.content === 'string'\n\t\t\t\t\t\t\t\t\t? item.content\n\t\t\t\t\t\t\t\t\t: item.content.raw,\n\t\t\t\t\t\t\texcerpt: item.excerpt.raw,\n\t\t\t\t\t\t\tmeta: item.meta,\n\t\t\t\t\t\t\tparent: item.parent,\n\t\t\t\t\t\t\tpassword: item.password,\n\t\t\t\t\t\t\ttemplate: item.template,\n\t\t\t\t\t\t\tformat: item.format,\n\t\t\t\t\t\t\tfeatured_media: item.featured_media,\n\t\t\t\t\t\t\tmenu_order: item.menu_order,\n\t\t\t\t\t\t\tping_status: item.ping_status,\n\t\t\t\t\t\t};\n\t\t\t\t\t\tconst assignablePropertiesPrefix = 'wp:action-assign-';\n\t\t\t\t\t\t// Get all the properties that the current user is able to assign normally author, categories, tags,\n\t\t\t\t\t\t// and custom taxonomies.\n\t\t\t\t\t\tconst assignableProperties = Object.keys(\n\t\t\t\t\t\t\titem?._links || {}\n\t\t\t\t\t\t)\n\t\t\t\t\t\t\t.filter( ( property ) =>\n\t\t\t\t\t\t\t\tproperty.startsWith(\n\t\t\t\t\t\t\t\t\tassignablePropertiesPrefix\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t.map( ( property ) =>\n\t\t\t\t\t\t\t\tproperty.slice(\n\t\t\t\t\t\t\t\t\tassignablePropertiesPrefix.length\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\tassignableProperties.forEach( ( property ) => {\n\t\t\t\t\t\t\tif ( item[ property ] ) {\n\t\t\t\t\t\t\t\tnewItemOject[ property ] = item[ property ];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} );\n\t\t\t\t\t\tsetIsCreatingPage( true );\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tconst newItem = await saveEntityRecord(\n\t\t\t\t\t\t\t\t'postType',\n\t\t\t\t\t\t\t\titem.type,\n\t\t\t\t\t\t\t\tnewItemOject,\n\t\t\t\t\t\t\t\t{ throwOnError: true }\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\tcreateSuccessNotice(\n\t\t\t\t\t\t\t\tsprintf(\n\t\t\t\t\t\t\t\t\t// translators: %s: Title of the created template e.g: \"Category\".\n\t\t\t\t\t\t\t\t\t__( '\"%s\" successfully created.' ),\n\t\t\t\t\t\t\t\t\tdecodeEntities(\n\t\t\t\t\t\t\t\t\t\tnewItem.title?.rendered || item.title\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tid: 'duplicate-post-action',\n\t\t\t\t\t\t\t\t\ttype: 'snackbar',\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\tif ( onActionPerformed ) {\n\t\t\t\t\t\t\t\tonActionPerformed( [ newItem ] );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} catch ( error ) {\n\t\t\t\t\t\t\tconst errorMessage =\n\t\t\t\t\t\t\t\terror.message && error.code !== 'unknown_error'\n\t\t\t\t\t\t\t\t\t? error.message\n\t\t\t\t\t\t\t\t\t: __(\n\t\t\t\t\t\t\t\t\t\t\t'An error occurred while duplicating the page.'\n\t\t\t\t\t\t\t\t\t  );\n\n\t\t\t\t\t\t\tcreateErrorNotice( errorMessage, {\n\t\t\t\t\t\t\t\ttype: 'snackbar',\n\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t} finally {\n\t\t\t\t\t\t\tsetIsCreatingPage( false );\n\t\t\t\t\t\t\tcloseModal();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<form onSubmit={ createPage }>\n\t\t\t\t\t\t\t<VStack spacing={ 3 }>\n\t\t\t\t\t\t\t\t<DataForm\n\t\t\t\t\t\t\t\t\tdata={ item }\n\t\t\t\t\t\t\t\t\tfields={ fields }\n\t\t\t\t\t\t\t\t\tform={ formDuplicateAction }\n\t\t\t\t\t\t\t\t\tonChange={ setItem }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<HStack spacing={ 2 } justify=\"end\">\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tvariant=\"tertiary\"\n\t\t\t\t\t\t\t\t\t\tonClick={ closeModal }\n\t\t\t\t\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{ __( 'Cancel' ) }\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t\t\t\tisBusy={ isCreatingPage }\n\t\t\t\t\t\t\t\t\t\taria-disabled={ isCreatingPage }\n\t\t\t\t\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{ _x( 'Duplicate', 'action label' ) }\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t</HStack>\n\t\t\t\t\t\t\t</VStack>\n\t\t\t\t\t\t</form>\n\t\t\t\t\t);\n\t\t\t\t},\n\t\t\t},\n\t\t[ userCanCreatePost ]\n\t);\n};\n\nexport const duplicatePatternAction = {\n\tid: 'duplicate-pattern',\n\tlabel: _x( 'Duplicate', 'action label' ),\n\tisEligible: ( item ) => item.type !== TEMPLATE_PART_POST_TYPE,\n\tmodalHeader: _x( 'Duplicate pattern', 'action label' ),\n\tRenderModal: ( { items, closeModal } ) => {\n\t\tconst [ item ] = items;\n\t\tconst duplicatedProps = useDuplicatePatternProps( {\n\t\t\tpattern: item,\n\t\t\tonSuccess: () => closeModal(),\n\t\t} );\n\t\treturn (\n\t\t\t<CreatePatternModalContents\n\t\t\t\tonClose={ closeModal }\n\t\t\t\tconfirmLabel={ _x( 'Duplicate', 'action label' ) }\n\t\t\t\t{ ...duplicatedProps }\n\t\t\t/>\n\t\t);\n\t},\n};\n\nexport const duplicateTemplatePartAction = {\n\tid: 'duplicate-template-part',\n\tlabel: _x( 'Duplicate', 'action label' ),\n\tisEligible: ( item ) => item.type === TEMPLATE_PART_POST_TYPE,\n\tmodalHeader: _x( 'Duplicate template part', 'action label' ),\n\tRenderModal: ( { items, closeModal } ) => {\n\t\tconst [ item ] = items;\n\t\tconst blocks = useMemo( () => {\n\t\t\treturn (\n\t\t\t\titem.blocks ??\n\t\t\t\tparse(\n\t\t\t\t\ttypeof item.content === 'string'\n\t\t\t\t\t\t? item.content\n\t\t\t\t\t\t: item.content.raw,\n\t\t\t\t\t{\n\t\t\t\t\t\t__unstableSkipMigrationLogs: true,\n\t\t\t\t\t}\n\t\t\t\t)\n\t\t\t);\n\t\t}, [ item.content, item.blocks ] );\n\t\tconst { createSuccessNotice } = useDispatch( noticesStore );\n\t\tfunction onTemplatePartSuccess() {\n\t\t\tcreateSuccessNotice(\n\t\t\t\tsprintf(\n\t\t\t\t\t// translators: %s: The new template part's title e.g. 'Call to action (copy)'.\n\t\t\t\t\t__( '\"%s\" duplicated.' ),\n\t\t\t\t\tgetItemTitle( item )\n\t\t\t\t),\n\t\t\t\t{ type: 'snackbar', id: 'edit-site-patterns-success' }\n\t\t\t);\n\t\t\tcloseModal();\n\t\t}\n\t\treturn (\n\t\t\t<CreateTemplatePartModalContents\n\t\t\t\tblocks={ blocks }\n\t\t\t\tdefaultArea={ item.area }\n\t\t\t\tdefaultTitle={ sprintf(\n\t\t\t\t\t/* translators: %s: Existing template part title */\n\t\t\t\t\t__( '%s (Copy)' ),\n\t\t\t\t\tgetItemTitle( item )\n\t\t\t\t) }\n\t\t\t\tonCreate={ onTemplatePartSuccess }\n\t\t\t\tonError={ closeModal }\n\t\t\t\tconfirmLabel={ _x( 'Duplicate', 'action label' ) }\n\t\t\t/>\n\t\t);\n\t},\n};\n\nexport function usePostActions( { postType, onActionPerformed, context } ) {\n\tconst { defaultActions, postTypeObject, userCanCreatePostType } = useSelect(\n\t\t( select ) => {\n\t\t\tconst { getPostType, canUser } = select( coreStore );\n\t\t\tconst { getEntityActions } = unlock( select( editorStore ) );\n\t\t\treturn {\n\t\t\t\tpostTypeObject: getPostType( postType ),\n\t\t\t\tdefaultActions: getEntityActions( 'postType', postType ),\n\t\t\t\tuserCanCreatePostType: canUser( 'create', {\n\t\t\t\t\tkind: 'postType',\n\t\t\t\t\tname: postType,\n\t\t\t\t} ),\n\t\t\t};\n\t\t},\n\t\t[ postType ]\n\t);\n\tconst { registerPostTypeActions } = unlock( useDispatch( editorStore ) );\n\tuseEffect( () => {\n\t\tregisterPostTypeActions( postType );\n\t}, [ registerPostTypeActions, postType ] );\n\n\tconst duplicatePostAction = useDuplicatePostAction( postType );\n\tconst reorderPagesAction = useReorderPagesAction( postType );\n\tconst isTemplateOrTemplatePart = [\n\t\tTEMPLATE_POST_TYPE,\n\t\tTEMPLATE_PART_POST_TYPE,\n\t].includes( postType );\n\tconst isPattern = postType === PATTERN_POST_TYPE;\n\tconst isLoaded = !! postTypeObject;\n\tconst supportsRevisions = !! postTypeObject?.supports?.revisions;\n\tconst supportsTitle = !! postTypeObject?.supports?.title;\n\treturn useMemo( () => {\n\t\tif ( ! isLoaded ) {\n\t\t\treturn [];\n\t\t}\n\n\t\tlet actions = [\n\t\t\tpostTypeObject?.viewable && viewPostAction,\n\t\t\tsupportsRevisions && postRevisionsAction,\n\t\t\tglobalThis.IS_GUTENBERG_PLUGIN\n\t\t\t\t? ! isTemplateOrTemplatePart &&\n\t\t\t\t  ! isPattern &&\n\t\t\t\t  duplicatePostAction\n\t\t\t\t: false,\n\t\t\tisTemplateOrTemplatePart &&\n\t\t\t\tuserCanCreatePostType &&\n\t\t\t\tduplicateTemplatePartAction,\n\t\t\tisPattern && userCanCreatePostType && duplicatePatternAction,\n\t\t\tsupportsTitle && renamePostAction,\n\t\t\treorderPagesAction,\n\t\t\t...defaultActions,\n\t\t].filter( Boolean );\n\t\t// Filter actions based on provided context. If not provided\n\t\t// all actions are returned. We'll have a single entry for getting the actions\n\t\t// and the consumer should provide the context to filter the actions, if needed.\n\t\t// Actions should also provide the `context` they support, if it's specific, to\n\t\t// compare with the provided context to get all the actions.\n\t\t// Right now the only supported context is `list`.\n\t\tactions = actions.filter( ( action ) => {\n\t\t\tif ( ! action.context ) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn action.context === context;\n\t\t} );\n\n\t\tif ( onActionPerformed ) {\n\t\t\tfor ( let i = 0; i < actions.length; ++i ) {\n\t\t\t\tif ( actions[ i ].callback ) {\n\t\t\t\t\tconst existingCallback = actions[ i ].callback;\n\t\t\t\t\tactions[ i ] = {\n\t\t\t\t\t\t...actions[ i ],\n\t\t\t\t\t\tcallback: ( items, argsObject ) => {\n\t\t\t\t\t\t\texistingCallback( items, {\n\t\t\t\t\t\t\t\t...argsObject,\n\t\t\t\t\t\t\t\tonActionPerformed: ( _items ) => {\n\t\t\t\t\t\t\t\t\tif ( argsObject?.onActionPerformed ) {\n\t\t\t\t\t\t\t\t\t\targsObject.onActionPerformed( _items );\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tonActionPerformed(\n\t\t\t\t\t\t\t\t\t\tactions[ i ].id,\n\t\t\t\t\t\t\t\t\t\t_items\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t},\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\tif ( actions[ i ].RenderModal ) {\n\t\t\t\t\tconst ExistingRenderModal = actions[ i ].RenderModal;\n\t\t\t\t\tactions[ i ] = {\n\t\t\t\t\t\t...actions[ i ],\n\t\t\t\t\t\tRenderModal: ( props ) => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<ExistingRenderModal\n\t\t\t\t\t\t\t\t\t{ ...props }\n\t\t\t\t\t\t\t\t\tonActionPerformed={ ( _items ) => {\n\t\t\t\t\t\t\t\t\t\tif ( props.onActionPerformed ) {\n\t\t\t\t\t\t\t\t\t\t\tprops.onActionPerformed( _items );\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tonActionPerformed(\n\t\t\t\t\t\t\t\t\t\t\tactions[ i ].id,\n\t\t\t\t\t\t\t\t\t\t\t_items\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t},\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn actions;\n\t}, [\n\t\tdefaultActions,\n\t\tuserCanCreatePostType,\n\t\tisTemplateOrTemplatePart,\n\t\tisPattern,\n\t\tpostTypeObject?.viewable,\n\t\tduplicatePostAction,\n\t\treorderPagesAction,\n\t\tonActionPerformed,\n\t\tisLoaded,\n\t\tsupportsRevisions,\n\t\tsupportsTitle,\n\t\tcontext,\n\t] );\n}\n"],"mappings":"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","ignoreList":[]}