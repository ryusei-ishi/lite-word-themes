{"version":3,"names":["_clsx","_interopRequireDefault","require","_components","_coreData","_data","_i18n","_htmlEntities","_store","_constants","_lockUnlock","_jsxRuntime","PostCardPanel","actions","isFrontPage","isPostsPage","title","icon","isSync","useSelect","select","getEditedPostAttribute","getCurrentPostType","getCurrentPostId","__experimentalGetTemplateInfo","editorStore","canUser","coreStore","getEditedEntityRecord","siteSettings","kind","name","undefined","_type","_id","_record","_templateInfo","TEMPLATE_POST_TYPE","TEMPLATE_PART_POST_TYPE","includes","_isSync","GLOBAL_POST_TYPES","PATTERN_POST_TYPE","currentSyncStatus","wp_pattern_sync_status","unlock","getPostIcon","area","page_on_front","page_for_posts","jsx","className","children","jsxs","__experimentalHStack","spacing","align","Icon","clsx","__experimentalText","numberOfLines","truncate","weight","as","lineHeight","decodeEntities","__"],"sources":["@wordpress/editor/src/components/post-card-panel/index.js"],"sourcesContent":["/**\n * External dependencies\n */\nimport clsx from 'clsx';\n/**\n * WordPress dependencies\n */\nimport {\n\tIcon,\n\t__experimentalHStack as HStack,\n\t__experimentalText as Text,\n} from '@wordpress/components';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { useSelect } from '@wordpress/data';\nimport { __ } from '@wordpress/i18n';\nimport { decodeEntities } from '@wordpress/html-entities';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\nimport {\n\tTEMPLATE_POST_TYPE,\n\tTEMPLATE_PART_POST_TYPE,\n\tPATTERN_POST_TYPE,\n\tGLOBAL_POST_TYPES,\n} from '../../store/constants';\nimport { unlock } from '../../lock-unlock';\n\nexport default function PostCardPanel( { actions } ) {\n\tconst { isFrontPage, isPostsPage, title, icon, isSync } = useSelect(\n\t\t( select ) => {\n\t\t\tconst {\n\t\t\t\tgetEditedPostAttribute,\n\t\t\t\tgetCurrentPostType,\n\t\t\t\tgetCurrentPostId,\n\t\t\t\t__experimentalGetTemplateInfo,\n\t\t\t} = select( editorStore );\n\t\t\tconst { canUser } = select( coreStore );\n\t\t\tconst { getEditedEntityRecord } = select( coreStore );\n\t\t\tconst siteSettings = canUser( 'read', {\n\t\t\t\tkind: 'root',\n\t\t\t\tname: 'site',\n\t\t\t} )\n\t\t\t\t? getEditedEntityRecord( 'root', 'site' )\n\t\t\t\t: undefined;\n\t\t\tconst _type = getCurrentPostType();\n\t\t\tconst _id = getCurrentPostId();\n\t\t\tconst _record = getEditedEntityRecord( 'postType', _type, _id );\n\t\t\tconst _templateInfo =\n\t\t\t\t[ TEMPLATE_POST_TYPE, TEMPLATE_PART_POST_TYPE ].includes(\n\t\t\t\t\t_type\n\t\t\t\t) && __experimentalGetTemplateInfo( _record );\n\t\t\tlet _isSync = false;\n\t\t\tif ( GLOBAL_POST_TYPES.includes( _type ) ) {\n\t\t\t\tif ( PATTERN_POST_TYPE === _type ) {\n\t\t\t\t\t// When the post is first created, the top level wp_pattern_sync_status is not set so get meta value instead.\n\t\t\t\t\tconst currentSyncStatus =\n\t\t\t\t\t\tgetEditedPostAttribute( 'meta' )\n\t\t\t\t\t\t\t?.wp_pattern_sync_status === 'unsynced'\n\t\t\t\t\t\t\t? 'unsynced'\n\t\t\t\t\t\t\t: getEditedPostAttribute(\n\t\t\t\t\t\t\t\t\t'wp_pattern_sync_status'\n\t\t\t\t\t\t\t  );\n\t\t\t\t\t_isSync = currentSyncStatus !== 'unsynced';\n\t\t\t\t} else {\n\t\t\t\t\t_isSync = true;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn {\n\t\t\t\ttitle:\n\t\t\t\t\t_templateInfo?.title || getEditedPostAttribute( 'title' ),\n\t\t\t\ticon: unlock( select( editorStore ) ).getPostIcon( _type, {\n\t\t\t\t\tarea: _record?.area,\n\t\t\t\t} ),\n\t\t\t\tisSync: _isSync,\n\t\t\t\tisFrontPage: siteSettings?.page_on_front === _id,\n\t\t\t\tisPostsPage: siteSettings?.page_for_posts === _id,\n\t\t\t};\n\t\t},\n\t\t[]\n\t);\n\treturn (\n\t\t<div className=\"editor-post-card-panel\">\n\t\t\t<HStack\n\t\t\t\tspacing={ 2 }\n\t\t\t\tclassName=\"editor-post-card-panel__header\"\n\t\t\t\talign=\"flex-start\"\n\t\t\t>\n\t\t\t\t<Icon\n\t\t\t\t\tclassName={ clsx( 'editor-post-card-panel__icon', {\n\t\t\t\t\t\t'is-sync': isSync,\n\t\t\t\t\t} ) }\n\t\t\t\t\ticon={ icon }\n\t\t\t\t/>\n\t\t\t\t<Text\n\t\t\t\t\tnumberOfLines={ 2 }\n\t\t\t\t\ttruncate\n\t\t\t\t\tclassName=\"editor-post-card-panel__title\"\n\t\t\t\t\tweight={ 500 }\n\t\t\t\t\tas=\"h2\"\n\t\t\t\t\tlineHeight=\"20px\"\n\t\t\t\t>\n\t\t\t\t\t{ title ? decodeEntities( title ) : __( 'No title' ) }\n\t\t\t\t\t{ isFrontPage && (\n\t\t\t\t\t\t<span className=\"editor-post-card-panel__title-badge\">\n\t\t\t\t\t\t\t{ __( 'Homepage' ) }\n\t\t\t\t\t\t</span>\n\t\t\t\t\t) }\n\t\t\t\t\t{ isPostsPage && (\n\t\t\t\t\t\t<span className=\"editor-post-card-panel__title-badge\">\n\t\t\t\t\t\t\t{ __( 'Posts Page' ) }\n\t\t\t\t\t\t</span>\n\t\t\t\t\t) }\n\t\t\t\t</Text>\n\t\t\t\t{ actions }\n\t\t\t</HStack>\n\t\t</div>\n\t);\n}\n"],"mappings":"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","ignoreList":[]}